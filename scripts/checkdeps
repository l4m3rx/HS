#!/bin/bash

################################################################################
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License version 2 as
#  published by the Free Software Foundation.
################################################################################

deps="
  automake autopoint bc bison bzip2 chrpath cmake cpio devscripts fakeroot flex
  g++ gawk gcc gperf intltool libtool-bin lzop patch pkg-config
  squashfs-tools swig tar unzip wget zip
  libc6-dev libncurses5-dev zlib1g-dev
"

need=""
for dep in $deps ; do
  dpkg-query -s $dep &>/dev/null
  if [ $? -ne 0 ] ; then
    need="$need $dep"
  fi
done

if [ -n "$need" ]; then
  echo "**** Your system lacks the following packages ****"
  echo $need
  exit 1
fi
